{
    "statements": [{
        "query": "MATCH (n)<-[r:ROUTE_TARGET]-(n:Route)-[:ROUTE_OF]->(:RouteTable)-[:MEMBER_OF_AWS_VPC]->(:AWSVpc)<-[:RESOURCE]-(:AWSAccount{id: {AWS_ID}}) WHERE r.lastupdated <> {UPDATE_TAG} WITH r LIMIT {LIMIT_SIZE} DELETE (r) return COUNT(*) as TotalCompleted",
        "iterative": true,
        "iterationsize": 100
    },
    {
        "query": "MATCH (n:Route)-[:ROUTE_OF]->(:RouteTable)-[r:MEMBER_OF_AWS_VPC]->(:AWSVpc)<-[:RESOURCE]-(:AWSAccount{id: {AWS_ID}}) WHERE n.lastupdated <> {UPDATE_TAG} WITH n LIMIT {LIMIT_SIZE} DETACH DELETE (n) return COUNT(*) as TotalCompleted",
        "iterative": true,
        "iterationsize": 100
    },
    {
        "query": "MATCH (:EC2Subnet)-[r:SUBNET_ASSOCIATION]->(:RouteTable)-[:MEMBER_OF_AWS_VPC]->(:AWSVpc)<-[:RESOURCE]-(:AWSAccount{id: {AWS_ID}}) WHERE n.lastupdated <> {UPDATE_TAG} WITH r LIMIT {LIMIT_SIZE} DELETE (r) return COUNT(*) as TotalCompleted",
        "iterative": true,
        "iterationsize": 100
    },
    {
        "query": "MATCH (:AWSAccount{id: {AWS_ID}})-[:RESOURCE]->(:AWSVpc)<-[r:MEMBER_OF_AWS_VPC]-(n:RouteTable) WHERE n.lastupdated <> {UPDATE_TAG} WITH n LIMIT {LIMIT_SIZE} DETACH DELETE (n) return COUNT(*) as TotalCompleted",
        "iterative": true,
        "iterationsize": 100
    }],
    "name": "cleanup Route Table"
  }
  